
<%= render :partial => '/parts/title', :locals => {:val => t('common.statistics')} %>

<div style="margin-top:10px;">
  <div id='chart1' class='span4' style="border:solid 1px;height:450px;width:350px;float:left;margin-right:10px;margin-bottom:10px;">
    <svg style='background-color:#fff;height:450px;width:350px'> </svg>
  </div>
  <div id='chart2' class='span4' style="border:solid 1px;height:450px;width:350px;float:left;margin-right:10px;margin-bottom:10px;">
    <svg style='background-color:#fff;height:450px;width:350px'> </svg>
  </div>
  <div id='chart3' style="border:solid 1px;height:450px;width:800px;float:left;margin-bottom:10px;">
    <svg style='background-color:#fff;height:450px;width:800px'> </svg>
  </div>
  <div id='chart4' style="border:solid 1px;height:450px;width:800px;float:left;">
    <svg style='background-color:#fff;height:450px;width:800px'> </svg>
  </div>
</div>

<script>

var chart1 = makePiechart();
var chart2 = makePiechart();

setPieChartAttributes(chart1,"#chart1 svg",statisticsArea());
setPieChartAttributes(chart2,"#chart2 svg",statisticsStatus());

nv.addGraph(chart1);
nv.addGraph(chart2);

var chart3 = makeDiscreteBarChart();

setDiscreteBarChartAttributes(chart3,"#chart3 svg",statisticsAreaStatus());

nv.addGraph(chart3);

var chart4 = makeMultiBarHorizontalChart();

setMultiBarHorizontalChartAttributes(chart4,"#chart4 svg",statisticsAreaStatus2());

nv.addGraph(chart4);

function statisticsArea() {
  return <%= raw @data[0].to_json %>;
}

function statisticsStatus() {
  return <%= raw @data[1].to_json %>;
}

function statisticsAreaStatus() {
  return <%= raw @data[2].to_json %>;
}

function statisticsAreaStatus2() {
  return <%= raw @data[3].to_json %>;
}

</script>
